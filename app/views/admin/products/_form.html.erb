<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <%= form_with(model: [:admin, @product], local: true, class: 'needs-validation') do |f| %>
                <% if @product.errors.any? %>
                    <div class="alert alert-danger">
                        <h4 class="alert-heading">
                        <%= pluralize(@product.errors.count, "error") %> prohibited this product from being saved:
                        </h4>
                        <ul class="mb-0">
                        <% @product.errors.full_messages.each do |msg| %>
                            <li><%= msg %></li>
                        <% end %>
                        </ul>
                    </div>
                <% end %>

                <div class="mb-3">
                    <%= f.label :name, class: 'form-label' %>
                    <%= f.text_field :name, class: 'form-control' %>
                </div>

                <div class="mb-3">
                    <%= f.label :description, class: 'form-label' %>
                    <%= f.text_area :description, class: 'form-control', rows: 3 %>
                </div>

                <div class="mb-3">
                    <%= f.label :category_id, class: 'form-label' %>
                    <%= f.collection_select :category_id, @categories, :id, :name, {}, class: 'form-select' %>
                </div>

                <div class="mb-3">
                    <%= f.label :price, class: 'form-label' %>
                    <%= f.number_field :price, step: :any, class: 'form-control' %>
                </div>

                <div class="mb-3">
                    <%= f.label :stock, class: 'form-label' %>
                    <%= f.number_field :stock, class: 'form-control' %>
                </div>

                <div class="mb-3">
                    <%= f.label :images, class: 'form-label' %>
                    <%= f.file_field :images, multiple: true, class: 'form-control' %>
                </div>

                <div class="mb-3 form-check">
                    <%= f.check_box :active, class: 'form-check-input' %>
                    <%= f.label :active, class: 'form-check-label' %>
                </div>

                <div class="actions">
                    <%= f.submit class: 'btn btn-primary' %>
                    <%= link_to 'Cancel', admin_products_path, class: 'btn btn-secondary' %>
                </div>
            <% end %>
        </div>
    </div>
</div>